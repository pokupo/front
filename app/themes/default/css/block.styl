/* Хэлперы и переменные */
@import '../../../styles/helpers/*'
/* ---------------------------------------- *
 * Общие стили каталога                     *
 * ======================================== */

.b-catalog
	margin-left 245px
	text-align left

	&__controls
		height 40px
		padding 0	

		&-item
			height 40px
			font-size 13px
			line-height 40px
			margin-left 20px
			float right

			&:nth-of-type(1)
				margin-left 4px
				float left

		&--pushedright
			float right
			margin-top -50px

			.btn-aux 
				padding-left 40px
				padding-right 40px

	&__quick-filter
		display none
		position relative
		float left
		margin -5px 20px 0 0
		width 230px
		height 50px
		
		&__input
			padding 12px 50px 10px 17px 
			font-size 18px
			border 1px solid transparent
			line-height 20px
			color #333
			width 230px
			height 50px

		&__icon			
			position absolute
			display block
			top 50%
			right 10px
			margin-top -15px
			cursor pointer
			sprite($icon__search--grey)

	&__title
		margin-bottom 10px

	&__subtitle
		color #666
		line-height 20px
		font-size 13px
		margin -10px 0 10px

	&__items
		padding-top 20px
		padding-bottom 120px
		font-size 0

	&__item
		display inline-block
		vertical-align top


/* Каталог в разных состояниях */
.b-catalog__items
	&.cards
		.b-item
			width 242px
			text-align center
			padding 0 5px
			
			&__info
			&__order-button
				display none

			&__popover
				.b-item__info
				.b-item__order-button
					display block
				.b-item__price
					margin-top 0

		&.cards--small
			padding-bottom 0

			.b-item
				width 150px
				text-align center
				&__info
				&__order-button
					display none
				&__picture
					height 150px
					line-height 150px
				&__title
					font-size 13px
					padding-bottom 3px

				.b-item__price
					font-size 18px
				.b-item__price--old
					font-size 10px
					& + .b-price
						margin-top 2px

				&__popover
					.b-item__info
					.b-item__order-button
						display block
					.b-item__price
						margin-top 0
	&.magazine
		padding 46px 0 70px
		.b-catalog__item
			margin-bottom 70px
			&:last-child
				margin-bottom 0
		.b-item
			width 100%
			min-width 726px

			&.with_popover
				.b-item__popover
					padding 30px 0
					top -30px

			&__picture
			&__order-button
			.responsive-holder
				position relative
				float left
				margin 0 -100% 0 0

			&__picture
				width 240px
				height 220px
				line-height 220px
				margin -30px -100% -30px 0
				left 0
				background-image none
				
			.responsive-holder
				width 230px
				left 265px
			&__order-button
				left 500px
			&__info:after
				display none
	&.titles
		padding 30px 0 50px

		.b-catalog__item
			margin-bottom 40px
			&:last-child
				margin-bottom 0
		.b-item
			width 100%
			min-width 726px

			.responsive-holder
				position relative

			&.with_popover
				.b-item__popover
					padding 25px 0
					top -25px

			&__picture
			&__description
			&__price
			&__order-button
				position relative
				float left
				margin 0 -100% 0 0

			&__picture
				width 160px
				height 140px
				line-height 190px
				margin -25px -100% -25px 0
				left 0
				background-image none
				
			&__description
				width 220px
				left 180px

			&__price
				width 120px
				left 370px
				display table
				min-height 120px

				& > .b-price
					display table-cell
					vertical-align: middle;
					height 100%

					br
						display none

					.b-item__price--old
						margin-top -16px
						float left
						
			&__order-button
				left 500px

			&__info:after
				display none

			&__order-button
				.btn
					font-size 13px
					padding 10px 20px

					i.icon-cart:before
						sprite($icon__cart__small)


/* 4-й вид каталога */
.nosidebar 
	.b-catalog
		margin-left 0

		&__controls
			position relative
			height 80px
			padding 20px 0	
			background $grey

			&:before
			&:after
				content ''
				position absolute
				display block
				width 100%
				top 0
				bottom 0
				background $grey

			&:before
				right 100%
			&:after
				left 100%

		&__quick-filter
			display block


/* ---------------------------------------- *
 * Карточка товара                          *
 * ======================================== */

.b-item
	position relative

	&__picture
		height 228px
		line-height 228px
		background url('../images/catalog/default.png') 50% 50% no-repeat
		vertical-align middle
		text-align center
		

		img 
			display inline-block
			vertical-align middle
			max-width 100%
			max-height 100%

	&__title
		font-size 18px
		line-height 20px
		padding-bottom 12px
		.parameter
			color #666

	&__info
		position relative
		font-size 13px
		line-height 20px
		color #000
		padding 0 0 11px
		margin-bottom 8px

		p 
			margin-bottom 5px

		&:after
			content ''
			display block
			position absolute
			left 50%
			bottom 0
			margin-left -25px
			width 46px
			border-bottom 1px solid $green

	&__price
		color $green
		font-size 30px
		font-weight 800
		margin-top -0px

		&--old
			display inline-block
			position relative
			padding 0 5px
			text-align center
			color #999
			font-size 15px
			font-weight normal

			&:after
				content ''
				display block
				position absolute
				top 50%
				left 0
				width 100%
				border-top 1px solid #999

			& + .b-price
				/* margin-top -5px */

	&__badges
		display none

	&__order-button
		.btn
			padding 16px 28px 14px
			margin 28px 0 25px
			border-width 4px
			&:hover
				color #333			


/* Карточка при наведении */
.b-item.with_popover 
	transition z-index .1s linear
	z-index 0

	.b-item__popover
		position absolute
		width 100%
		padding 0 5px
		left 0
		top 0
		visibility hidden
	    opacity 0
		transition opacity .1s linear, visibility .1s linear
		z-index 4
	
	&:hover 
		z-index 5

		.b-item__popover
			visibility visible
			opacity 1


/* ---------------------------------------- *
 * #blockSliderTmpl                         *
 * ======================================== */

.catalog-banner
	transition margin-top 0.5s ease-in-out

.b-catalog-banner
	margin-bottom 20px

	&__slide
		height 100%
		
		hgroup
			color #fff
			padding 115px
			text-shadow 0 1px rgba(#000, 0.6)
		h1
			margin-bottom 20px

.b-catalog-banner
	.fotorama__nav-wrap
		margin -42px auto 0
		width 150px

	.fotorama__nav__shaft
		padding-bottom 12px

	.fotorama__nav--dots .fotorama__nav__frame
		width 24px

	.fotorama__dot
		width 6px
		height 6px
		border-radius 6px
		border 1px solid $orange

	.fotorama__nav__frame.fotorama__active .fotorama__dot
		width 6px
		height 6px
		border-width 1px
		background $orange


section.advanced-search + .catalog-banner
	margin-top -45px


/* ---------------------------------------- *
 * #blockTileTmpl                           *
 * ======================================== */

.b-catalog__items
	.owl-prev
	.owl-next
		top 100px
		
	.owl-prev
		left -30px
		sprite($arrow-prev__black)
		&:hover
			sprite($arrow-prev__hover)
		&:active
			sprite($arrow-prev__active)
	.owl-next
		right -30px
		sprite($arrow-next__black)
		&:hover
			sprite($arrow-next__hover)
		&:active
			sprite($arrow-next__active)

	&.chain-slider
		padding-bottom 20px
		margin 0 30px 100px

		.b-item__price
			/* margin-top -12px */


/* ---------------------------------------- *
 * #blockTileTmpl                           *
 * ======================================== */




@media only screen and (max-width: 640px)

	.b-catalog-banner__slide hgroup
		padding 100px 0

	.b-catalog__controls-item
		float none
		margin-left 0
		margin-bottom 10px
		text-align right
		width 49%
		display inline-block

		&:nth-of-type(1)
			margin-left 0
			float none
			width 100%

	/* Каталог в разных состояниях */
	.b-catalog__items
		.b-item.with_popover
			& > div
				display none

			.b-item__popover
				display block
				margin 0 0 20px
				position relative
				visibility visible

		/* Карточки */
		&.cards
			text-align center

			.b-item
				width auto
				min-width 340px

			&.cards--small
				display none

		/* Журнал */
		&.magazine
			text-align center
			.b-item
				width auto
				min-width 440px

				.responsive-holder
					float none
					left 220px
					text-align left

				&__picture
					width 200px

				&__order-button
					width 50%
					float none
					left 50%
					text-align left

				.b-item--dublicate
					clearfix()

			.b-catalog__item
				margin-bottom 10px

		/* Список */
		&.titles
			text-align center
			.b-item
				width auto
				min-width 468px

				.responsive-holder
					float none
					text-align left

				&__description
					width 180px

				&__price
					float none
					left 360px
					font-size 24px

					.b-item__price--old
						font-size 13px

				&__order-button
					width 100px
					float none
					left 360px
					text-align left
					padding 10px 0 0

					.btn
						font-size 11px
						margin 0
						padding 8px 12px
						border-width 2px

						i.icon
							display none

				.b-item--dublicate
					clearfix()

			.b-catalog__item
				margin-bottom 10px



	/* 4-й вид каталога */
	.nosidebar 
		.b-catalog__quick-filter
			float none

		.b-catalog__quick-filter
		.b-catalog__quick-filter__input
			width 100%


		.b-catalog__controls
			height auto		


@media only screen and (min-device-width: 768px) and (max-device-width: 1024px) and (orientation: portrait), screen and (min-width: 641px) and (max-width: 800px)
	
	.b-catalog__controls
		clearfix()

	/* Каталог в разных состояниях */
	.b-catalog__items
		
		.b-catalog__item
			padding-right 8px

		/* Карточки */
		&.cards
			text-align center

			.b-item
				width auto
				min-width 242px

				&__order-button
					.btn
						padding 12px 14px 8px
						font-size 13px

			&.cards--small
				display none

		/* Журнал */
		&.magazine
			text-align center

			.b-item
				width auto
				min-width 620px

				.responsive-holder
					float left
					left 220px
					text-align left

				&__picture
					width 200px

				&__order-button
					width 160px
					float left
					left 450px
					text-align left

					.btn
						padding 12px 16px 10px
						margin 28px 0 25px
						border-width 3px
						font-size 14px

				.b-item--dublicate
					clearfix()

			.b-catalog__item
				margin-bottom 30px

		/* Список */
		&.titles
			text-align center
			.b-item
				width auto
				min-width 620px

				.responsive-holder
					float none
					text-align left

				&__description
					width 260px

				&__price
					float none
					left 440px
					font-size 24px

					.b-item__price--old
						font-size 13px

				&__order-button
					width 100px
					float none
					left 440px
					text-align left
					padding 10px 0 0
					.btn
						margin 0

				.b-item--dublicate
					clearfix()

			.b-catalog__item
				margin-bottom 30px
	/* 4-й вид каталога */
	.nosidebar 
		.b-catalog__quick-filter
			float none
			width 100%
			margin-bottom: 10px;

			&__input
				width 100%

		.b-catalog__controls
			height 130px
			clearfix()









